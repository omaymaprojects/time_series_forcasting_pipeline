image: python:3.8

stages:
  - preprocess
  - analyze
  - report

preprocess-data:
  stage: preprocess
  script:
    - echo "Preprocessing data..."
    - pip install -r requirements.txt
    - python scripts/preprocess.py
  artifacts:
    paths:
      - processed_data.csv

analyze-data:
  stage: analyze
  script:
    - echo "Analyzing data..."
    - python scripts/analyze.py
  dependencies:
    - preprocess-data
  artifacts:
    paths:
      - analysis_results.csv

generate-report:
  stage: report
  script:
    - echo "Generating report..."
    - python scripts/generate_report.py
  dependencies:
    - analyze-data
  artifacts:
    paths:
      - report.pdf
